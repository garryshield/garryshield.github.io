---
title: Tips
subtitle: Tips
date: 2018-10-06 13:33:36
updated: 2018-10-06 13:33:36
categories:
  - Tips
tags:
  - Tips
---

## Python `site-packages` 路径
{% codeblock lang:'bash' line_number:'true' %}
# https://stackoverflow.com/questions/122327/how-do-i-find-the-location-of-my-python-site-packages-directory
python -m site

python -c "import site; print(site.getsitepackages())"

python -m site --user-site
{% endcodeblock %}

## Open chroem from terminal
{% codeblock lang:'bash' line_number:'true' %}
# https://stackoverflow.com/questions/34796888/how-to-open-google-chrome-from-terminal
open -a "Google Chrome" index.html 
{% endcodeblock %}

## Frida
https://github.com/frida/frida/releases

adb push frida-server /data/local/tmp
adb shell 
>su 
>cd /data/local/tmp
>chmod frida-server
>./firda-server

adb forward tcp:27042 tcp:27042

pip install frida

frida-ps -U
frida -U --no-pause -f com.example.garryshield.myapplication
frida -U --no-pause -f com.example.garryshield.myapplication -l script.js
frida -U --no-pause -f com.jifen.qukan -l script.js
>Java

## JNI
AS > SDK Manager > SDK Tools > NDK

local.properties file
```
ndk.dir=/Users/garryshield/Downloads/soft/android/sdk/ndk-bundle
```

app/build.gradle
```
android{
    ...
    externalNativeBuild {
        ndkBuild {
            path 'src/main/jni/Android.mk'
        }
    }
}
```

app/src/main/
```
mkdir jni
```

app/src/main/java/com/garryshield/jnitest
JNITest.java
```
package com.garryshield.jnitest;
public class JNITest {
    static {
        System.loadLibrary("JNITest");
    }
    public static native String test();
}
```

terminal generate h file
app/src/main/jni/com_garryshield_jnitest_JNITest.h
```
cd app/src/main/java/
javah -d ../jni com.garryshield.jnitest.JNITest

/* DO NOT EDIT THIS FILE - it is machine generated */
#include <jni.h>
/* Header for class com_example_garryshield_myapplication_JNITest */

#ifndef _Included_com_example_garryshield_myapplication_JNITest
#define _Included_com_example_garryshield_myapplication_JNITest
#ifdef __cplusplus
extern "C" {
#endif
/*
 * Class:     com_example_garryshield_myapplication_JNITest
 * Method:    test
 * Signature: ()Ljava/lang/String;
 */
JNIEXPORT jstring JNICALL Java_com_example_garryshield_myapplication_JNITest_test
  (JNIEnv *, jclass);

#ifdef __cplusplus
}
#endif
#endif
```

create C file
```
touch app/src/main/jni/JNITest.c

#include <jni.h>
#include "com_example_garryshield_myapplication_JNITest.h"

JNIEXPORT jstring JNICALL Java_com_example_garryshield_myapplication_JNITest_test
  (JNIEnv *env, jobject obj) {
    return (*env)->NewStringUTF(env, "i am from native");
  }

```

app/src/main/jni/Android.mk
```
LOCAL_PATH := $(call my-dir)
include $(CLEAR_VARS)

LOCAL_MODULE := JNITest
LOCAL_SRC_FILES := JNITest.c
include $(BUILD_SHARED_LIBRARY)
```

app/src/main/jni/Application.mk
```
APP_ABI := all
```

generate so file
```
cd app/src/main/jni
ndk-build -d


ps | grep garryshield | tr -s ' ' | cut -d ' ' -f 2 
1111
lsof | grep 1111 | grep so



DDMS 打不开
https://stackoverflow.com/questions/47089757/android-device-monitor-freezes-on-mac-os-x/47090518


.overload()
	.overload('java.lang.String')
	.overload('android.app.Activity')
	.overload('int')
	.overload('[B') // byte array
	.overload('float')
	.overload('android.content.Context')
	.overload('[C')
	.overload('android.content.Context', 'android.view.View')
	.overload('android.app.Activity', 'com.cherrypicks.hsbcpayme.model.object.PayMeNotification')
	.overload('android.content.Context', 'boolean')
	.overload('android.content.Context', 'int')
	.overload('android.content.Context', 'java.lang.String')
	.overload('android.app.Activity', 'int')
	.overload('java.lang.String', 'java.lang.String')
	.overload('android.content.Context', 'android.graphics.Bitmap')
	.overload('java.lang.String', 'java.io.File')
	.overload('android.content.Context', 'java.lang.String', 'java.util.List')
	.overload('java.lang.String', 'java.lang.String', 'java.lang.String')
	.overload('java.lang.String', '[B', '[B')
	.overload('java.lang.String', 'java.lang.String', 'android.content.Context')
	.overload('android.app.Activity', 'com.cherrypicks.hsbcpayme.model.object.PayMeNotification', 'int')
	.overload('[B', '[B', '[B')
	.overload('android.content.Context', 'java.lang.String', 'java.lang.String')
	.overload('android.app.Activity', 'int', 'int', 'int', 'boolean')


nohup /path/to/your/script.sh > /dev/null 2>&1 &


https://blog.csdn.net/u011913612/article/details/52628789
https://blog.csdn.net/u011913612/article/details/52634347

	1.1 基本数据类型的转换
Java	Native	Signature
byte	jbyte	B
char	jchar	C
double	jdouble	D
float	jfloat	F
int	jint	I
short	jshort	S
long	jlong	J
boolean	jboolean	Z
void	void	V
--------------------- 
作者：刘望舒 
来源：CSDN 
原文：https://blog.csdn.net/itachi85/article/details/74157262 
版权声明：本文为博主原创文章，转载请附上博文链接！

1.2 引用数据类型的转换
Java	Native	Signature
所有对象	jobject	L+classname +;
Class	jclass	Ljava/lang/Class;
String	jstring	Ljava/lang/String;
Throwable	jthrowable	Ljava/lang/Throwable;
Object[]	jobjectArray	[L+classname +;
byte[]	jbyteArray	[B
char[]	jcharArray	[C
double[]	jdoubleArray	[D
float[]	jfloatArray	[F
int[]	jintArray	[I
short[]	jshortArray	[S
long[]	jlongArray	[J
boolean[]	jbooleanArray	[Z
--------------------- 
作者：刘望舒 
来源：CSDN 
原文：https://blog.csdn.net/itachi85/article/details/74157262 
版权声明：本文为博主原创文章，转载请附上博文链接！


https://stackoverflow.com/questions/6066030/read-only-file-system-on-android
Not all phones and versions of android have things mounted the same.
Limiting options when remounting would be best.

Simply remount as rw (Read/Write):

# mount -o rw,remount /system
Once you are done making changes, remount to ro (read-only):

# mount -o ro,remount /system



export LD_LIBRARY_PATH=/data/data/com.termux/files/usr/lib


https://stackoverflow.com/questions/10348305/android-ndk-library-not-found-cannot-link-executable-how-to-set-ld-library-p



##########
刷机
关机状态下，电源键+音量上键，进入系统 recovery
adb reboot bootloader
fastboot flash recovery /Users/garryshield/Downloads/soft/android/xposed/twrp-3.1.1-1-eva.img
fastboot reboot
fastboot reboot recovery

adb reboot recovery
# twrp backup
adb pull /data/media/0/TWRP/BACKUPS/PBV7N17313001526/  /Users/garryshield/Downloads/soft/android/rom/

# twrp install SuperSU
adb push /Users/garryshield/Downloads/soft/android/xposed/xposed-v89-sdk24-x86.zip /data/media/0/
adb push /Users/garryshield/Downloads/soft/android/xposed/SuperSU-v2.82-201705271822.zip /data/media/0/
adb push /Users/garryshield/Downloads/soft/android/busybox-binaries/busybox-armv7l /data/media/0/
adb push /Users/garryshield/Downloads/soft/android/frida/frida-server-12.2.11-android-arm64 /data/media/0/

adb push /Users/garryshield/Downloads/soft/android/magisk/Magisk-v18.0.zip /data/media/0/
adb push /Users/garryshield/Downloads/soft/android/soft/charles-ssl-proxying-certificate.pem /storage/emulated/0



# busybox
https://www.cnblogs.com/shamoguzhou/p/6233407.html


find / -type f -name "public.libraries.txt"
/vendor/etc/public.libraries.txt
/system/etc/public.libraries.txt